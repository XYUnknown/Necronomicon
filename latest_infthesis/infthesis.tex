%%%%%%%%%%%%%%%%%%%%%%%%
%% Sample use of the infthesis class to prepare a thesis. This can be used as 
%% a template to produce your own thesis.
%%
%% The title, abstract and so on are taken from Martin Reddy's csthesis class
%% documentation.
%%
%% MEF, October 2002
%%%%%%%%%%%%%%%%%%%%%%%%

%%%%
%% Load the class. Put any options that you want here (see the documentation
%% for the list of options). The following are samples for each type of
%% thesis:
%%
%% Note: you can also specify any of the following options:
%%  logo: put a University of Edinburgh logo onto the title page
%%  frontabs: put the abstract onto the title page
%%  deptreport: produce a title page that fits into a Computer Science
%%      departmental cover [not sure if this actually works]
%%  singlespacing, fullspacing, doublespacing: choose line spacing
%%  oneside, twoside: specify a one-sided or two-sided thesis
%%  10pt, 11pt, 12pt: choose a font size
%%  centrechapter, leftchapter, rightchapter: alignment of chapter headings
%%  sansheadings, normalheadings: headings and captions in sans-serif
%%      (default) or in the same font as the rest of the thesis
%%  [no]listsintoc: put list of figures/tables in table of contents (default:
%%      not)
%%  romanprepages, plainprepages: number the preliminary pages with Roman
%%      numerals (default) or consecutively with the rest of the thesis
%%  parskip: don't indent paragraphs, put a blank line between instead
%%  abbrevs: define a list of useful abbreviations (see documentation)
%%  draft: produce a single-spaced, double-sided thesis with narrow margins
%%
%% For a PhD thesis -- you must also specify a research institute:
\documentclass[phd,icsa,twoside,logo]{infthesis}
%% For an MPhil thesis -- also needs an institute
% \documentclass[mphil,ianc]{infthesis}

%% MSc by Research, which also needs an institute
% \documentclass[mscres,irr]{infthesis}

%% Taught MSc -- specify a particular degree instead. If none is specified,
%% "MSc in Informatics" is used.
% \documentclass[msc,cogsci]{infthesis}
% \documentclass[msc]{infthesis}  % for the MSc in Informatics

%% Master of Informatics (5 year degree)
% \documentclass[minf]{infthesis}

%% Undergraduate project -- specify the degree course and project type
%% separately
% \documentclass[bsc]{infthesis}
% \course{Artificial Intelligence and Psychology}
% \project{Fourth Year Project Report}

%% Put any \usepackage commands you want to use right here; the following is 
%% an example:
\usepackage{natbib}
\usepackage{relsize}
%
% Packages and Commands specific to article (see 3)
%
% These ones  are used in the guide, replace with your own.
% 
\usepackage{multicol}
\usepackage{subcaption}
%%% Customise %%%

\usepackage{xspace}
\newcommand{\Lord}{\textsc{Lord}\xspace}

\usepackage{pgfplots}
\usepgfplotslibrary{dateplot}

\usepackage{tikz}
\newcommand\tikzmark[1]{\tikz[remember picture,overlay]\node (#1) {};}
\usetikzlibrary{decorations.pathreplacing,calc,shapes,positioning}
\pgfplotsset{
    legend image with text/.style={
        legend image code/.code={%
            \node[anchor=center] at (0.3cm,0cm) {#1};
        }
    },
}

\usepgfplotslibrary{
  groupplots,
}
\definecolor{kirby}{RGB}{215,72,148}
\definecolor{kirby-light}{RGB}{242,198,221}
\definecolor{kirby-blue}{RGB}{68,102,191}
\definecolor{kirby-green}{RGB}{35,135,37}
\definecolor{kirby-dp}{RGB}{221,4,89}
\definecolor{airforceblue}{rgb}{0.36, 0.54, 0.66}
\usepackage{parcolumns}
\usepackage[utf8]{inputenc}
\usepackage[tt = false, type1 = true]{libertine}
\usepackage{amsmath}
%\usepackage{newtxmath}
%\usepackage{amssymb}
\usepackage{amsthm}
\usepackage[libertine]{newtxmath}
\usepackage{mathpartir}
\usepackage{centernot}
\usepackage{dsfont}
\newcommand{\metaDef}{\mathrel{\mathop:}=}
\newcommand{\metaBound}{<\mathrel{\mathop:}}
\newcommand{\cmid}{\ \mid \ }
\newcommand{\sep}{\ , \ }
\newcommand{\Rplus}{\protect\hspace{-.1em}\protect\raisebox{.35ex}{\smaller{\smaller\textbf{+}}}}
\newcommand{\Cpp}{\mbox{C\Rplus\Rplus}\xspace}
\usepackage[font=small,skip=0pt]{caption}
\usepackage{tikz-cd}
\usepackage{graphicx}
\captionsetup[figure]{font=small,skip=0pt}
%define listing box
\usepackage{listings, listings-rust, listings-racket}
\lstdefinestyle{boxedlst}{
commentstyle=\color[RGB]{34,139,34}
, stringstyle=\color[rgb]{0, 0, 0.5}%
, keywordstyle=\color[RGB]{215,72,148}
, numbers=left%
, firstnumber=auto%
, numberblanklines=true%
, frame=trbL%
, numberstyle=\tiny%
, frame=leftline%
, numbersep=7pt%
, framesep=5pt%
, framerule=10pt%
, xleftmargin=15pt%
, backgroundcolor=\color[gray]{0.97}%
, rulecolor=\color[gray]{0.90}%
}
\newcommand{\mylstinline}[1]{\texttt{\footnotesize#1}}
\newcommand{\Primrose}{\textsf{Primrose}\xspace}
% \usepackage{cleveref}

\usepackage{tikz-qtree}
\tikzset{level distance = 1.5em}
\usepackage{rotating}
\newcommand{\metaDeff}{\mathrel{\mathop{::}}=}
\newcommand{\seqcomp}{\, \mathrel{\mathop;} \, }
\newcommand{\sseqcomp}{\, \mathrel{\mathop;}_s \, }
\newcommand{\lchoice}{<\mathrel{\mathop+}}
\newcommand{\slchoice}{<\mathrel{\mathop+}_s}
\newcommand{\choice}{<\mathrel{\mathop+}\mathrel{\mathop>}}
\newcommand{\schoice}{<\mathrel{\mathop+}\mathrel{\mathop>}_s}
\newcommand{\barr}{\,|\, }
\newcommand{\approximation}{\,\triangle\,}
\newcommand{\approximationdiv}{\,\mathrel{\mathop\triangle}_\infty\,}
\newcommand{\sskip}{\text{SKIP}\xspace}
\newcommand{\sabort}{\text{ABORT}\xspace}
\newcommand{\err}{\mathit{err}}
\newcommand{\dive}{\mathit{div}}
\newcommand{\one}{\text{\textit{one}\/}\xspace}
\newcommand{\ones}[1][s]{\ensuremath{\one_{#1}}}
\newcommand{\some}{\text{\textit{some}\/}\xspace}
\newcommand{\somes}[1][s]{\ensuremath{\some_{#1}}}
\newcommand{\all}{\text{\textit{all}\/}\xspace}
\newcommand{\alls}[1][s]{\ensuremath{\all_{#1}}}
\newcommand{\add}{\text{\textit{add}\/}\xspace}
\newcommand{\adds}[1][s]{\ensuremath{\add_{#1}}}
\newcommand{\atomic}{\text{\textit{atomic}}}
\newcommand{\try}{\text{\textit{try}}}
\newcommand{\tdef}{\textbf{def}}
\newcommand{\tundef}{\textbf{undef}}
\newcommand{\concat}{\mathrel{\mathop{++}}}

\usetikzlibrary{calc,decorations.pathmorphing}
\newcounter{squig}
\newcommand\xsquigglyright[1]{%
\stepcounter{squig}%
\mathrel{\begin{tikzpicture}[baseline= {( $ (current bounding box.south) + (0,-0.5ex) $ )}]
\node[inner sep=.5ex] (\thesquig) {$\scriptstyle #1$};
\path[draw,<-,decorate,
  decoration={snake,amplitude=0.75pt,segment length=1.5mm,pre=lineto,pre length=2pt}]
    (\thesquig.south east) -- (\thesquig.south west);
\end{tikzpicture}}%
}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\DeclareSymbolFont{frenchscript}{OMS}{ztmcm}{m}{n}
\DeclareMathSymbol{\Pow}{\mathord}{frenchscript}{80} % power set
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%% Add possessive citations, e.g. "Leroy's (1992)", taken
\usepackage{suffix}
\newcommand{\citepos}[1]{\citeauthor{#1}'s~\citeyearpar{#1}}
\WithSuffix\newcommand\citepos*[2]{\citeauthor{#1}'s #2~\citeyearpar{#1}}
\WithSuffix\newcommand\citepos-[2]{\citeauthor{#1}#2~\citeyearpar{#1}}
%%%%%%%%%%%%%%%% End of possessive citation %%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%% Misc macros by Ohad %%%%%%%%%%%%%%%%%
\newcommand\wcpo{$\omega$-cpo}
%%%%%%%%%%% end of misc macros by Ohad %%%%%%%%%%%%%%%%%
\usepackage{pifont}% http://ctan.org/pkg/pifont
\newcommand{\cmark}{\ding{51}}%
\newcommand{\xmark}{\ding{55}}%
\usepackage{csquotes}

% a pitchfork for lookup
\DeclareFontFamily{U}{FdSymbolC}{}
\DeclareFontShape{U}{FdSymbolC}{m}{n}{<-> s * FdSymbolC-Book}{}
\DeclareSymbolFont{fdarrows}{U}{FdSymbolC}{m}{n}
\DeclareMathSymbol{\pitchforkup}{\mathrel}{fdarrows}{"75}
\DeclareMathSymbol{\downspoon}{\mathrel}{fdarrows}{'153}
\DeclareMathSymbol{\upspoon}{\mathrel}{fdarrows}{'151}

% a box arrow for update
\DeclareFontFamily{U}{txsyc}{}
\DeclareFontShape{U}{txsyc}{m}{n}{<-> s * txsyc}{}
\DeclareSymbolFont{txarrows}{U}{txsyc}{m}{n}
\DeclareMathSymbol{\boxRight}{\mathrel}{txarrows}{"88}

\usepackage{wrapfig}

\newcommand{\V}{\mathcal{V}}
\newcommand{\plat}[1]{\raisebox{0pt}[0pt][0pt]{#1}}     % no vertical space

% typesetting theorems
\newtheorem{theorem}{Theorem}[section]
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{definition}{Definition}[section]
%%

%% cute stuff
\usepackage{yfonts,lettrine}
% \usepackage{setspace}
\oneandahalfspace
\renewcommand{\LettrineFont}{\initfamily}
\setcounter{DefaultLines}{3}
\AtBeginDocument{\setlength{\DefaultFindent}{0.5em}}
\setlength{\DefaultNindent}{0pt}
\renewcommand{\DefaultLraise}{-0.1}

\usepackage{pgfornament}
\newcommand{\framesize}{\textwidth}
%%
%typesetting chinese
\usepackage{CJKutf8}
% end XY add

%% Information about the title, etc.
\title{Studies Concerning the Meaning of Computer Programs:\\\smaller Formal Specifications and Implementations, Monolithic and Distributed Programs,\\and the Semantics of Syntactic Transformations}
\author{Xueying Qin \\ \begin{CJK*}{UTF8}{gbsn}秦雪莹\end{CJK*}}

%% If the year of submission is not the current year, uncomment this line and 
%% specify it here:
% \submityear{1785}

%% Optionally, specify the graduation month and year:
% \graduationdate{February 1786}

%% Specify the abstract here.
\abstract{%
    This doctoral thesis presents three studies that concerns the meaning of computer programs in three different aspects, namely, specifications and implementations, monolithic and distributed frameworks, and the formal semantics of syntactic transformations. In general, three conceptual questions have been asked and addressed by these three studies.

    The first conceptual question is: How to design a better abstraction mechanism that allows programmers to effectively express \emph{what} they want a computer to do via some declarative yet accurate \emph{specifications} instead of how a computer should accomplish a task via some concrete \emph{implementations}? The study, ``\emph{\Primrose: Selecting Container Data Types by Their Properties}", addresses this question by exploring ways to design a specification for a container that truly allows a programmer to separate its interface and usage from the implementation and to select a concrete implementation determined by its interface and usage. By conducting this study, I conclude that such separation of concerns enables automation and optimisation for application developers to use a container data type in their programs.

    The second conceptual question is: How to intuitively understand \emph{distributed programs} using the same conceptual model as \emph{monolithic programs}? The question is addressed by the study of designing a remote procedural call library --- the Universal Method Invocation (UMI) library --- for Rust. The UMI library supports location transparency by encapsulating the message-passing details and provides programmers an interface that allows them to migrate a monolithic program into a distributed setting, while preserving the semantics and without massive changes to the syntax of the program. This study provides a perspective on designing distributed systems: A monolithic program can be viewed as an abstraction of a distributed program, specifying \emph{what} functionalities a program attempts to achieve instead of \emph{how} these functionalities are achieved in a distributed setting by abstracting away the details of distributed memory management and message passing over a network.

    The third conceptual question is: How do we characterise the relationship between the syntax and semantics of programming languages? The study, ``\emph{Shoggoth: A Formal Foundation for Strategic Rewriting}", addresses this question by giving three different models of formal semantics: denotational semantics, big-step operational semantics, and axiomatic semantics, to a core calculus of strategic rewriting languages which is used for composing syntactic transformations. The study provides a perspective on the relationship in the context of rewriting: The syntax and semantics are interdependent, since we have observed that transformations of the syntax of expressions encode the meaning for the evaluation of these expressions. In the meanwhile we can characterise and reason about executions of compositions of these syntactic transformations of expressions by analysing their semantics.
    % The syntax and semantics are interdependent since we have observed that the transformations of the syntax of expressions encode the meaning for the evaluation of these expressions, and we can characterise and reason about the executions of compositions of these syntactic transformations by assigning to and analysing of the semantics of them.
}

%% Now we start with the actual document.
\begin{document}
%% First, the preliminary pages
\begin{preliminary}

%% This creates the title page
\maketitle
\begin{laysummary}
This doctoral thesis presents three distinct studies concerning the meaning of computer programs. Each of these studies addresses a key conceptual question related to programming language design.

\begin{wrapfigure}{r}{0.37\textwidth}
  \vspace{-30pt}
  \begin{center}
    \includegraphics[width=0.3\textwidth]{Primrose.png}
  \end{center}
\end{wrapfigure}
Specification and Implementation: The first study investigates how programmers can more effectively articulate what they want a computer to do (specifications) rather than how it should do it (implementations). We introduce \Primrose{}, a tool that allows programmers to define what a container should accomplish without being concerned about how it achieves it. This separation enables more efficient and automated selection of container data types in software development.

\begin{wrapfigure}{l}{0.37\textwidth}
  \vspace{-15pt}
  \begin{center}
    \includegraphics[width=0.3\textwidth]{SpiderCrab.png}
  \end{center}
\end{wrapfigure}
Monolithic and Distributed Programs: The second study explores how to understand and manage distributed programs using the same principles as monolithic programs. we present the Universal Method Invocation (UMI) library for the Rust programming language. UMI simplifies the transition from monolithic to distributed programs by concealing the complexities of message-passing and distributed memory management, thereby allowing programmers to maintain the same program structure and functionality across different computing environments.

\begin{wrapfigure}{r}{0.37\textwidth}
  \vspace{-30pt}
  \begin{center}
    \includegraphics[width=0.3\textwidth]{Shoggoth.png}
  \end{center}
\end{wrapfigure}
Syntax and Semantics: The third study examines the relationship between the structure (syntax) and meaning (semantics) of programming languages. We introduce Shoggoth, a formal framework of strategic rewriting in programming languages. This study demonstrates that the way expressions are written (syntax) and their meaning (semantics) are closely interlinked, and understanding this relationship is crucial for accurately predicting and reasoning about the behaviour of programs.

In summary, these studies provide insights into designing effective programming languages and frameworks, emphasising the importance of formal specifications, seamless transitions between different program architectures, and the interplay between syntax and semantics.
\end{laysummary}


%% Acknowledgements
\begin{acknowledgements}
First of all, I would like to thank my supervisor Michel Steuwer. Having Michel as my supervisor is one of the best things could ever happen in my life. I started working with Michel when I was an undergraduate student in University of Glasgow. During the five years that we worked together, Michel provided unlimited freedom, trust, and support for me to explore areas that I am curious about. Because of his guidance, I am able to keep questioning and pursuing what I \emph{really} want for my life.

I had a great time being a member of Michel’s ComPL research group. I would like to express my gratitude to everyone I met in this group, including Johannes Lenfers, Bastian K\"{o}pcke, Martin L\"{u}cke, Rongxiao \underline{Fu} (\begin{CJK*}{UTF8}{gbsn}\underline{付}荣枭\end{CJK*}), Thomas K{\oe}hler, Federico Pizzuti, Rudi Schneider, Nicole Heinmann, and Selkan Muhcu.

I sincerely thank Tianyi \underline{Li} (\begin{CJK*}{UTF8}{gbsn}\underline{李}天翼\end{CJK*}) and Leyang \underline{Xue} (\begin{CJK*}{UTF8}{gbsn}\underline{薛}乐阳\end{CJK*}) for being my supportive and caring friends. Particularly, I would like to thank Tianyi, who studies computational linguistics, for his vitally important contributions to my understanding of the conceptual correspondence and theoretical connections between formalism and analysis of natural languages and programming languages. I would like to thank Leyang, for providing me delicious food and taking care of my pet Medusa, which is a Venus flytrap.

I sincerely thank my collaborator Rob van Glabbeek for all the inspiring discussions. I will always remember the question he asked me when I was having a severe life crisis and considering giving up:``Do you want to be a scientist?" My answer was yes, and my answer is still yes.

Thanks to Tobias Grosser for always being helpful and supportive. Especially, I would like thank him for inviting me to visit his group in University of Cambridge. I spent a wonderful week with them during my stay in Cambridge.

Thanks to my second supervisor Sam Lindley for his insightful inputs in my annual reviews, thesis writing, and career decision making, as well as his apples.

I would like to thank all my collaborators and researchers who has positively contributed to my research, including Ohad Kammar, Peter H\"{o}fner, Glynn Winskel, and Dan Ghica.

Thanks to everyone in the Friday standup group, and in my office IF 2.33.

I would like to thank my parents for being supportive to all life decisions I have made, and for their financial support for me to build a safe base that I could call a ``home" in Edinburgh.

I would like to thank my therapist Paulina Nowak. During the past two years, we have worked closely together to understand my PTSD. Because of Paulina, I am able to be aware of and step out of the vivid past that I was trapped into, and look forward.

This thesis is assembled during my visit to different universities, including EPFL, TU Berlin, and University of Cambridge, as well as different cities, including Lausanne, Geneva, Montreux, Paris, Berlin, Cambridge, Vienna, and Budapest. I would like to thank everyone I met during the journey.

% I thank myself for not being able to end my life.

% I sincerely thank my friend Tianyi Li, who is a well-known computational linguist, for his vitally important contributions to my understanding of the conceptual correspondence and theoretical connections between formalism and analysis of natural languages and programming languages.
\end{acknowledgements}

%% Next we need to have the declaration.
\extendedstandarddeclaration

%% Finally, a dedication (this is optional -- uncomment the following line if
%% you want one).
% \dedication{To my mummy.}

%% Create the table of contents
\tableofcontents

%% If you want a list of figures or tables, uncomment the appropriate line(s)
% \listoffigures
% \listoftables

\end{preliminary}

%%%%%%%%
%% Include your chapter files here. See the sample chapter file for the basic
%% format.

\include{chap1}
\include{chap2}
\include{chap3}
\include{chap4}
\include{chap5}
% \include{chap2}
%% ... etc ...

%%%%%%%%
%% Any appendices should go here. The appendix files should look just like the
%% chapter files.
\appendix
\include{appendix1}
%% ... etc...

%% Choose your favourite bibliography style here.
\bibliographystyle{apalike}

%% If you want the bibliography single-spaced (which is allowed), uncomment
%% the next line.
% \singlespace

%% Specify the bibliography file. Default is thesis.bib.
\bibliography{thesis}

%% ... that's all, folks!
\end{document}
